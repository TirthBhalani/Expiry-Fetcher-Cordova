<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' https://www.mcxindia.com data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; connect-src *">
    <title>Expiry Date Fetcher</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- Cordova reference (automatically added during build) -->
    <script src="cordova.js"></script>
</head>
<body>
    <!-- App Header -->
    <header class="app-header">
        <h1>Expiry Fetcher</h1>
        <div class="connection-status" id="connectionStatus"></div>
    </header>

    <!-- On/Off Toggle Switch -->
    <div class="toggle-container">
        <label class="switch">
            <input type="checkbox" id="toggleExtension" checked>
            <span class="slider"></span>
        </label>
        <span id="toggleStatus">ON</span>
    </div>
    
    <!-- Commodity Selection -->
    <div id="commodity-section">
        <h3>Select Commodities:</h3>
        
        <!-- First 5 Commodities -->
        <div class="commodity-row" id="first-five">
            <!-- Buttons populated dynamically -->
        </div>

        <!-- Next 5 Commodities -->
        <div class="commodity-row" id="next-five">
            <!-- Buttons populated dynamically -->
        </div>
    </div>

    <!-- Selected Commodities with Expiry & Data -->
    <div id="selected-commodities">
        <h3>Active Selections</h3>

        <!-- Commodity 1 -->
        <div class="selected-commodity" id="commodity-1">
            <div class="commodity-header">
                <span class="selected-name"></span>
                <select class="expiry-dropdown"></select>
                <p class="last-updated">Last updated: --:--:--</p>
            </div>
            <div class="commodity-data">
                <p><strong>CE OI:</strong> <span class="totalCE_OI value-box">0</span></p>
                <p><strong>CE Vol:</strong> <span class="totalCE_Volume value-box">0</span></p>
                <p><strong>PE OI:</strong> <span class="totalPE_OI value-box">0</span></p>
                <p><strong>PE Vol:</strong> <span class="totalPE_Volume value-box">0</span></p>
                <p><strong>CE-PE OI:</strong> <span class="cePe_OI value-box">0</span></p>
                <p><strong>CE-PE Vol:</strong> <span class="cePe_Volume value-box">0</span></p>
            </div>
        </div>

        <!-- Commodity 2 -->
        <div class="selected-commodity" id="commodity-2">
            <div class="commodity-header">
                <span class="selected-name"></span>
                <select class="expiry-dropdown"></select>
                <p class="last-updated">Last updated: --:--:--</p>
            </div>
            <div class="commodity-data">
                <p><strong>CE OI:</strong> <span class="totalCE_OI value-box">0</span></p>
                <p><strong>CE Vol:</strong> <span class="totalCE_Volume value-box">0</span></p>
                <p><strong>PE OI:</strong> <span class="totalPE_OI value-box">0</span></p>
                <p><strong>PE Vol:</strong> <span class="totalPE_Volume value-box">0</span></p>
                <p><strong>CE-PE OI:</strong> <span class="cePe_OI value-box">0</span></p>
                <p><strong>CE-PE Vol:</strong> <span class="cePe_Volume value-box">0</span></p>
            </div>
        </div>
    </div>

    <!-- Status Bar -->
    <div class="status-bar">
        <span id="appVersion">v1.0.0</span>
        <span id="lastBackgroundSync">Last sync: --:--:--</span>
    </div>

    <!-- JavaScript Files -->
    <script src="js/config.js"></script>
    <script src="js/network.js"></script>
    <script src="js/background.js"></script>
    <script src="js/app.js"></script>
    <script src="js/index.js"></script>
</body>
</html>